
<ion-view title="信用" hide-nav-bar="isWechat">
    <div class="tabs-striped tabs-top tabs-background-light tabs-color-positive">
        <div class="tabs Order_nav">
            <a class="tab-item f-16" ng-class="{'active':step.page=='one'}" ng-click="step.page ='one'">实名信息</a>
            <a class="tab-item f-16" ng-class="{'active':step.page=='two'}" ng-click="step.page ='two'">社交信息</a>
        </div>
    </div>
    <ion-content>
        <form class="list" style="padding-top: 70px" ng-show="step.page == 'one'">
            <div class="item item-icon-right C_info_upload">
                <span class="title f-12 c-999">身份证正面</span>
                <span ng-if="data.pictureInfo.foreground_pic_level == '0'">
                    身份证正面照片
                    <i class="icon"><img class="camera" src="frame/images/camera/camera.png"></i>
                </span>
                <span ng-if="data.pictureInfo.foreground_pic_level == '1'">
                    已拍摄(身份证正面)待验证
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_success.png"></i>
                </span>
                <span ng-if="data.pictureInfo.foreground_pic_level == '2'">
                    验证未通过，请重新上传
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_fail.png"></i>
                </span>
                <span ng-if="data.pictureInfo.foreground_pic_level == '3'">
                    验证通过
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_success.png"></i>
                </span>
                <span ng-if="data.pictureInfo.foreground_pic_level == '4'">
                    验证通过后有新上传
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_success.png"></i>
                </span>
                <span ng-if="data.pictureInfo.background_pic_level == '5'">
                    照片识别失败，请重新拍摄
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_fail.png"></i>
                </span>
                <upload-img text="data.pictureInfo.foreground_pic_level" uploadType="0"></upload-img>
            </div>

            <div class="item item-icon-right C_info_upload">
                <span class="title f-12 c-999">身份证反面</span>
                <span ng-if="data.pictureInfo.background_pic_level == '0'">
                    身份证反面照片
                    <i class="icon"><img class="camera" src="frame/images/camera/camera.png"></i>
                </span>
                <span ng-if="data.pictureInfo.background_pic_level == '1'">
                    已拍摄(身份证反面)待验证
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_success.png"></i>
                </span>
                <span ng-if="data.pictureInfo.background_pic_level == '2'">
                    验证未通过，请重新上传
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_fail.png"></i>
                </span>
                <span ng-if="data.pictureInfo.background_pic_level == '3'">
                    验证通过
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_success.png"></i>
                </span>
                <span ng-if="data.pictureInfo.background_pic_level == '4'">
                    验证通过后有新上传
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_success.png"></i>
                </span>
                <span ng-if="data.pictureInfo.background_pic_level == '5'">
                    照片识别失败，请重新拍摄
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_fail.png"></i>
                </span>

                <upload-img text="data.pictureInfo.background_pic_level" uploadType="1"></upload-img>
            </div>
            <div class="item item-icon-right C_info_upload" ng-click="showModal()">
                <span class="title f-12 c-999">手持身份证</span>
                <span ng-if="data.pictureInfo.holdID_pic_level == '0'">
                    请手持身份证拍摄
                    <i class="icon"><img class="camera" src="frame/images/camera/camera.png"></i>
                </span>
                <span ng-if="data.pictureInfo.holdID_pic_level == '1'">
                    已拍摄(手持身份证)
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_success.png"></i>
                </span>
                <span ng-if="data.pictureInfo.holdID_pic_level == '2'">
                    验证未通过，请重新上传
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_fail.png"></i>
                </span>
                <span ng-if="data.pictureInfo.holdID_pic_level == '3'">
                    验证通过
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_success.png"></i>
                </span>
                <span ng-if="data.pictureInfo.holdID_pic_level == '4'">
                    验证通过后有新上传
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_success.png"></i>
                </span>
                <span ng-if="data.pictureInfo.holdID_pic_level == '5'">
                    照片识别失败，请重新拍摄
                    <i class="icon"><img class="camera" src="frame/images/camera/camera_fail.png"></i>
                </span>

                <upload-img id="handId" text="data.pictureInfo.holdID_pic_level" uploadType="2" style="display: none"></upload-img>
            </div>

            <div class="item item-input item-icon-right">
                <span class="input-label">姓名</span>
                <span>{{data.common.realname| splitBy:"realnameReplace"}}</span>
            </div>
            <div class="item item-input item-icon-right item-borderless">
                <span class="input-label">身份证号</span>
                <span>{{data.common.certification_no | splitBy:"iDcardReplace"}}</span>
            </div>
            <div class="padding">
                <button class="button button-block button-positive"
                        ng-click="checkPic()">提交</button>
            </div>
        </form>

        <form class="list" style="padding-top: 60px" ng-show="step.page == 'two'">

            <div class="item item-divider header f-14">工作信息</div>
            <div class="item item-input item-icon-right">
                <span class="input-label">单位名称</span>
                <input ng-model="data.job.company" type="text" placeholder="请输入单位名称" maxlength="30">
                <inputclear text="data.job.company"></inputclear>
            </div>
            <div class="item item-input item-icon-right">
                <span class="input-label">单位电话</span>
                <input ng-model="data.job.tel" type="text" placeholder="请输入区号+电话号码" maxlength="20">
                <inputclear text="data.job.tel"></inputclear>
            </div>
            <div class="item item-input item-icon-right item-borderless">
                <span class="input-label">职位</span>
                <input ng-model="data.job.title" type="text" placeholder="请输入您的职位" maxlength="20">
                <inputclear text="data.job.title"></inputclear>
            </div>

            <div class="item item-divider header f-14">紧急联系人</div>
            <div class="item item-input item-select item-icon-right" ng-click="">
                <span class="input-label">关系</span>
                <select ng-model="data.emergency_person.relation" style="width: 75%;">
                    <option ng-repeat="option in options" value="{{option.cs_key}}">{{option.cs_value}}</option>
                </select>
                <div style="position: absolute;left: 0;right: 0;width: 100%;height: 100%;z-index: 9;" ng-click="select();$event.stopPropagation();"></div>
                <i class="icon icon-arrow-down"></i>
            </div>
            <div class="item item-input item-icon-right">
                <span class="input-label">姓名</span>
                <input ng-model="data.emergency_person.name" type="text" placeholder="请输入联系人姓名" maxlength="10">
                <inputclear text="data.emergency_person.name"></inputclear>
            </div>
            <div class="item item-input item-icon-right item-borderless">
                <span class="input-label">手机号码</span>
                <input ng-model="data.emergency_person.mobile" type="text" placeholder="请输入联系人电话" maxlength="20">
                <inputclear text="data.emergency_person.mobile"></inputclear>
            </div>

            <div class="padding">
                <button class="button button-block button-positive"
                        ng-click="submit()">提交</button>
            </div>
        </form>
        <script id="handExample-modal.html" type="text/ng-template">
            <div class="modal" style="background-color: rgba(0,0,0,0)" ng-click="hideModal()">
                <ion-content>
                    <div class="card" align="center" style="margin: 40px 30px;">
                        <div class="item item-divider">示例</div>
                        <div class="item item-text-wrap">
                            <div style="padding: 30px"><img src="frame/images/camera/camera_example.jpg"></div>

                            <p>请根据示例手持身份证进行拍摄，确保姓名、身份证号、人物头像清晰</p>
                        </div>
                        <div class="item item-divider">
                            <button class="button button-positive button-block"
                                    onclick="javascript:document.getElementById('handId').click();">拍 摄</button>
                        </div>
                    </div>
                </ion-content>
            </div>
        </script>
    </ion-content>
</ion-view>



