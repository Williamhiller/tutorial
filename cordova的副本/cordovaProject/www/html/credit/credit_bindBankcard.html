
<ion-view title="绑定银行卡"  hide-nav-bar="isWechat">
    <ion-content>
        <!--未绑定时绑定银行卡-->
        <form class="list">
            <!--持卡人信息-->
            <div class="item item-divider header f-14">持卡人信息</div>
            <div class="item item-input item-icon-right">
                <span class="input-label">真实姓名</span>
                <!--已绑定显示信息-->
                <div ng-if="validate.authIdCardFlag">
                    {{validate.userName}}
                    <span class="f-14 c-999">（{{validate.idcard}}）</span>
                </div>
                <!--未绑定显示输入框，绑定-->
                <div ng-if="!validate.authIdCardFlag">
                    <input ng-model="validate.userName" type="text" placeholder="请输入您的真实姓名" maxlength="10">
                    <inputclear text="validate.userName"></inputclear>
                </div>
            </div>
            <!--已绑定则隐藏-->
            <div ng-if="!validate.authIdCardFlag" class="item item-input item-icon-right">
                <span class="input-label">身份证号</span>
                <input ng-model="validate.idcard" type="text" placeholder="请输入您的真实身份证号" maxlength="18">
                <inputclear text="validate.idcard"></inputclear>
            </div>

            <!--银行卡信息-->
            <div class="item item-divider header f-14">银行卡信息</div>
            <div class="item item-input item-icon-right" ng-click="openBankList()">
                <span class="input-label">所属银行</span>
                <input type="hidden" name="bankId" ng-model="validate.bankId" tabindex="3">
                <img class="bank-img" ng-src="{{validate.bankImg}}">
                <span>{{validate.bankName}}</span>
                <i class="icon icon-arrow-down"></i>
            </div>
            <div class="item item-input item-icon-right">
                <span class="input-label">银行卡号</span>
                <input ng-model="validate.bankcard" type="tel" placeholder="银行卡号需和持卡人一致" maxlength="30">
                <inputclear text="validate.bankcard"></inputclear>
            </div>
            <!--输入银行卡号时显示样式-->
            <div class="item f-18" ng-show="validate.bankcard>0" style="background-color: #3458ab;text-align: center;color: #fff">
                {{validate.bankcard| splitBy:'bankcard'}}
            </div>
            <div class="item item-input item-icon-right">
                <span class="input-label">预留手机号</span>
                <input ng-model="validate.mobileNo" type="tel" placeholder="请输入手机号" maxlength="20">
                <inputclear text="validate.mobileNo"></inputclear>
            </div>
            <div class="item item-input item-button-right item-borderless">
                <span class="input-label">验证码</span>
                <input ng-model="validate.phoneCode" type="tel" maxlength="10">
                <button class="button button-positive button-outline button_validate"
                        ng-class="{'button-disabled':!sms.isDisabled}"
                        ng-click="smsSend('100000000002',validate.mobileNo)">
                    {{sms.text}}
                </button>
            </div>

            <div class="padding">
                <button id="bankcard_bind_btn"
                        class="button button-block button-positive"
                        ng-click="submit()">立即绑定</button>
            </div>
            <div class="tips">
                <div class="header">Tips</div>
                <p>1.绑定的银行卡将默认成为您提现的唯一银行卡</p>
                <p>2.最低提现金额:100元/笔，最高提现金额:不限</p>
            </div>
        </form>
        <script id="bankCardList-modal.html" type="text/ng-template">
            <div class="modal">
                <ion-header-bar>
                    <a ng-click="hideBankList()" class="button button-icon">
                        <i class="icon icon-back"></i>
                    </a>
                    <h1 class="title">所属银行</h1>
                </ion-header-bar>
                <ion-content>
                    <ion-list>
                        <ion-item class="item" ng-repeat="data in validate.bankList" ng-click="bankSelect(data)">
                            <img class="bank-img" ng-src="{{data.bankImg}}"/>
                            <span>{{data.bankName}}</span>
                        </ion-item>
                    </ion-list>
                </ion-content>
            </div>
        </script>
    </ion-content>
</ion-view>


